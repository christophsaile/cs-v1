!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/resources/ts/main.ts")}({"./node_modules/@biotope/resource-loader/lib/index.esm.js":function(module,__webpack_exports__,__webpack_require__){"use strict";function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"ResourceLoader",function(){return ResourceLoader});var EVENTS={RESOURCE_LOADED:"RESOURCE_LOADED",COMPONENT_READY:"COMPONENT_READY"},getResourceElements=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return[].slice.call(e.querySelectorAll("[data-resources]"))},pipe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},curry=function e(t){return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];if(0===r.length)throw Error("EMPTY INVOCATION");return r.length>=t.length?t.apply(void 0,r):e(t.bind.apply(t,[null].concat(r)))}},defaultTo=function(e,t){return t||e},defaultTo$1=curry(defaultTo),prop=function(e,t){return t[e]},prop$1=curry(prop),getDataResourceFromElement=pipe(defaultTo$1(document.createElement("div")),prop$1("dataset"),prop$1("resources"),defaultTo$1("")),getComponentQueueFromElement=function getComponentQueueFromElement(){var element=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("div"),dataResources=getDataResourceFromElement(element),definitions=eval(dataResources)||[];return definitions.map(function(e){return Object.assign({},e,{element:element})})},unnest=function(e){return[].concat.apply([],e)},getContentDefinitionsFromDOM=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=getResourceElements(e);return unnest(t.map(getComponentQueueFromElement))},unique=function(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})},mergeResources=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce(function(t,n){return-1!==t.map(function(e){return e.path}).indexOf(n.path)?t:[].concat(_toConsumableArray(t),[Object.assign({},n,{dependencyPaths:unique(unnest(e.filter(function(e){return e.path===n.path}).map(function(e){return e.dependencyPaths||[]}))),elements:unique(unnest(e.filter(function(e){return e.path===n.path}).map(function(e){return e.elements||[]})))})])},[])},resolveBaseWith=function(e,t){return"##"!==t.substring(0,2)?t:e[t]||""},resolveBaseWith$1=curry(resolveBaseWith),isAbsolute=function(e){return new RegExp("^(?:[a-z]+:)?//","i").test(e)},isRootPath=function(e){return 0===e.indexOf("/")&&0!==e.indexOf("//")},getTrailingSlashesRegex=function(){return/\/?$/},getLeadingSlashesRegex=function(){return/^\/?/},replace=function(e,t,n){return n.replace(e,t)},replace$1=curry(replace),ensureTrailingSlash=replace$1(getTrailingSlashesRegex(),"/"),ensureNoLeadingSlash=replace$1(getLeadingSlashesRegex(),""),identity=function(e){return e},concat=function(e,t){return e+t},concat$1=curry(concat),always=function(){return!0},max=function(e,t){return t>e?t:e},_arity=function(e,t){switch(e){case 0:return function(){return t.apply(this,arguments)};case 1:return function(e){return t.apply(this,arguments)};case 2:return function(e,n){return t.apply(this,arguments)};case 3:return function(e,n,r){return t.apply(this,arguments)};case 4:return function(e,n,r,o){return t.apply(this,arguments)};case 5:return function(e,n,r,o,i){return t.apply(this,arguments)};case 6:return function(e,n,r,o,i,u){return t.apply(this,arguments)};case 7:return function(e,n,r,o,i,u,s){return t.apply(this,arguments)};case 8:return function(e,n,r,o,i,u,s,a){return t.apply(this,arguments)};case 9:return function(e,n,r,o,i,u,s,a,c){return t.apply(this,arguments)};case 10:return function(e,n,r,o,i,u,s,a,c,l){return t.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}},cond=function(e){var t=e.map(function(e){return e[0].length}).reduce(max,0);return _arity(t,function(){for(var t=0;t<e.length;){if(e[t][0].apply(this,arguments))return e[t][1].apply(this,arguments);t+=1}})},cond$1=curry(cond),isHtmlFilePath=function(e){return/^(ht|f)tp(s?)\:\/\/[0-9a-zA-Z]([-.\w]*[0-9a-zA-Z])*(:(0-9)*)*(\/?)([a-zA-Z0-9\-\.\?\,\'\/\\\+&amp;%\$#_]*)?\.html([a-zA-Z0-9\-\.\?\!\,\'\/\\\+&amp;%\$#_]*)?$/gm.test(e)},shift=function(e){var t=_toConsumableArray(e);return t.shift(),t},ensureNoHtmlFile=function(e){return isHtmlFilePath(e)?shift(e.split("/").reverse()).reverse().join("/"):e},defaultToEmptyString=defaultTo$1(""),ensureAbsolutePath=function(e){return cond$1([[isAbsolute,identity],[isRootPath,pipe(ensureNoLeadingSlash,concat$1(ensureTrailingSlash(e.origin)))],[always,pipe(ensureNoLeadingSlash,concat$1(ensureTrailingSlash(ensureNoHtmlFile(e.href))))]])},createEnsureAbsolutePath=function(e){return pipe(defaultToEmptyString,ensureAbsolutePath(e))},isRelative=function(e){return!isAbsolute(e)},normalizePath=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;if(t&&n&&isRelative(e)){if(t.base){var r=resolveBaseWith$1(n.baseMap);return createEnsureAbsolutePath(window.location)(ensureTrailingSlash(r(t.base))+e)}if(n.base){var o=createEnsureAbsolutePath(window.location);return isRootPath(e)?o(e):o(ensureTrailingSlash(n.base)+e)}}return e},toResources=function(e,t){if(!t)return[];var n=t.paths.map(function(n){return{path:normalizePath(n,t,e),dependencyPaths:(t.dependsOn?t.dependsOn:[]).map(function(n){return normalizePath(n,t,e)}),elements:[t.element]}}),r=(t.dependsOn?t.dependsOn:[]).map(function(n){return{path:normalizePath(n,t,e),dependencyPaths:[],elements:[t.element]}});return[].concat(_toConsumableArray(n),_toConsumableArray(r))},toResources$1=curry(toResources),getResourcesFromContainer=function(e,t){var n=getContentDefinitionsFromDOM(t);return mergeResources(unnest(n.map(toResources$1(e))))},getResourcesFromContainer$1=curry(getResourcesFromContainer),loadResource=function(e){return fetch(e.path).then(function(t){var n=new CustomEvent(EVENTS.RESOURCE_LOADED,{detail:{resource:e,response:t}});document.dispatchEvent(n)})},loadResources=function(e){return e.map(loadResource)},getResourceByPath=function(e,t){return e.find(function(e){return e.path===t})},checkIfResolvable=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.every(function(t){return t.dependencyPaths.every(function(t){return!!getResourceByPath(e,t)})})},getReadyResources=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.filter(function(e){return e.dependencyPaths.every(function(e){return t.some(function(t){return t.path===e})})})},isCss=function(e){return e.resource.path.indexOf(".css")>-1},onCssLoaded=function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e.resource.path,document.body.append(t)},cssHandler={match:isCss,handle:onCssLoaded},isJs=function(e){return e.resource.path.indexOf(".js")>-1},onJsLoaded=function(e){var t=document.createElement("script");t.src=e.resource.path,t.async=!0,document.body.append(t)},jsHandler={match:isJs,handle:onJsLoaded},isEmpty=function(e){return 0===e.length};function _Set(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}function hasOrAdd(e,t,n){var r=_typeof(e);switch(r){case"undefined":return!!n._items[r]||(t&&(n._items[r]=!0),!1);case"object":if(null===e)return!!n._items.null||(t&&(n._items.null=!0),!1);default:return(r=Object.prototype.toString.call(e))in n._items?-1!==n._items[r].indexOf(e)||(t&&n._items[r].push(e),!1):(t&&(n._items[r]=[e]),!1)}}_Set.prototype.add=function(e){return!hasOrAdd(e,!0,this)},_Set.prototype.has=function(e){return hasOrAdd(e,!1,this)};var difference=function(e,t){for(var n=[],r=0,o=e.length,i=t.length,u=new _Set,s=0;s<i;s++)u.add(t[s]);for(;r<o;)u.add(e[r])&&(n[n.length]=e[r]),r+=1;return n},difference$1=curry(difference),remove=function(e,t,n){return _toConsumableArray(n).splice(e,t)},remove$1=curry(remove),ResourceLoader=function(){function e(e){this.options=null,this.pendingResources=[],this.loadedResources=[],this.defaultOptions={readyEvent:"resourcesReady",handler:[cssHandler,jsHandler]},this.options=Object.assign({container:this.defaultContainer},this.defaultOptions,e),this.bindEvents(),this.init(this.options)}var t=e.prototype;return t.init=function(e){this.prepareQueue(e),loadResources(this.pendingResources)},t.prepareQueue=function(e){this.waitingResources=_toConsumableArray(getResourcesFromContainer$1(e,e.container)),this.waitingResources=this.cleanLoadedFromWaiting(),checkIfResolvable(this.waitingResources),this.pendingResources=[].concat(_toConsumableArray(this.pendingResources),_toConsumableArray(getReadyResources(this.waitingResources,this.loadedResources))),this.waitingResources=difference$1(this.waitingResources,this.pendingResources)},t.cleanLoadedFromWaiting=function(){var e=this;return this.waitingResources.filter(function(t){return!e.loadedResources.some(function(e){return e.path===t.path})})},t.getStatus=function(){return{waiting:this.waitingResources,pending:this.pendingResources,loaded:this.loadedResources}},t.bindEvents=function(){document.addEventListener(EVENTS.RESOURCE_LOADED,this.onResourceLoaded.bind(this)),document.addEventListener(this.options.readyEvent,this.onReady.bind(this))},t.onResourceLoaded=function(e){var t=e.detail.resource,n=this.options.handler.map(function(e){return[e.match,e.handle]});cond$1(n)(e.detail),this.loadedResources.push(t);var r=getReadyResources(this.waitingResources,this.loadedResources);if(this.pendingResources=[].concat(_toConsumableArray(remove$1(this.pendingResources.indexOf(t),1,this.pendingResources)),_toConsumableArray(r)),this.waitingResources=difference$1(this.waitingResources,this.pendingResources),loadResources(r),isEmpty(this.waitingResources)&&isEmpty(this.pendingResources)){var o=new CustomEvent(this.options.readyEvent);document.dispatchEvent(o)}},t.onReady=function(){},t.update=function(){this.init(this.options)},_createClass(e,[{key:"defaultContainer",get:function(){return document.querySelector("body")}}]),e}();__webpack_exports__.default=ResourceLoader},"./node_modules/vm-browserify/index.js":function(module,exports){function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,o=n.execScript;!r&&o&&(o.call(n,"null"),r=n.eval),forEach(Object_keys(e),function(t){n[t]=e[t]}),forEach(globals,function(t){e[t]&&(n[t]=e[t])});var i=Object_keys(n),u=r.call(n,this.code);return forEach(Object_keys(n),function(t){(t in e||-1===indexOf(i,t))&&(e[t]=n[t])}),forEach(globals,function(t){t in e||defineProp(e,t,n[t])}),document.body.removeChild(t),u},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),function(n){e[n]=t[n]}),n},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}}),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===_typeof(e)&&forEach(Object_keys(e),function(n){t[n]=e[n]}),t}},"./src/resources/ts/main.ts":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o,i,u=n("./node_modules/@biotope/resource-loader/lib/index.esm.js"),s=n("./node_modules/vm-browserify/index.js");r=function(){[].slice.call(document.querySelectorAll("[data-init]")).forEach(function(e){s.runInThisContext(e.dataset.init)(e)})},o={match:function(e){return e.resource.path.indexOf(".css")>-1},handle:function(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e.resource.path,document.body.appendChild(t)}},i={match:function(e){return e.resource.path.indexOf(".js")>-1},handle:function(e){var t=document.createElement("script");t.src=e.resource.path,t.async=!0,document.body.appendChild(t),t.onload=function(){return r()}}},new u.default({base:biotope.configuration.get("data.staticResourcesBase"),baseMap:{"##content":biotope.configuration.get("data.staticResourcesContentRepoBase")},handler:[o,i]})}});
//# sourceMappingURL=main.js.map
